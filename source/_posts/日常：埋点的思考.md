---
title: 日常：业务埋点式遇到的一些问题和思考
date: 2023-04-23 19:52:19
tags:
- 每日思考&问题记录
---
这次我负责将埋点接入到我们的业务，我是这么做的：
所有的埋点字段由ued提供-》我维护一个大枚举，将excel表中的枚举写入-》然后再维护一个业务Map，业务Map中的key值构成比较复杂，可能是路由，也可能是某些业务中存在枚举的key，他的目的是为了方便直接从业务中取得埋点字段的类型，但是在有了两层Map的情况下又不可避免的出现了第三种map

第三种map的原因：
首先每个埋点的值都是唯一的，但是有一个组件，完全相同的组件使用在不同的页面，每个页面的埋点都是不一样的，因此我需要新建立一个和之前第二层Map不同的数据结构来存储


这个方案给同事听了之后说多增加第一层维护Map的成本，这个应该交给平台，他应该存在一个接口，可以返回所有的已经配置好的埋点，而不是我手动去维护第一层的Map
![组件截图](/picture/20230423.png)