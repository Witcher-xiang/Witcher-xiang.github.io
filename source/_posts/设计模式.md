---
title: 设计模式
date: 2023-04-28 10:36:08
tags:
- 设计模式
---

可读性：软件的设计文档是否足够齐全，是否能被被其他接盘侠理解。还有合理的代码注解，这些在一些中大型的软件系统的运维开发中非常重要。
**可复用性：**软件系统的架构、类、组件等单元很容易被本项目的其它部分或者其它项目复用。
可扩展性：软件面对各种扯蛋需求变化时，能否做到以“不变应万变”，能否通过功能或性能扩展较轻松完成需求。
可维护性：软件维护（主要是指软件错误的修改、遗漏功能的添加等）的难易程度。


### 依赖倒置原则
**定义:**高层模块不应该依赖低层模块，二者都应该于抽象。抽象不应该依赖于细节，细节应该依赖于抽象，通俗点就是面向接口编程。
其实对于前端来说就是node做中间层，做后端接口的处理和聚合，这样当后端接口做重构时，我们就可以只修改这个抽象层
好处: 降低类之间的耦合性，提高系统的稳定性，降低修改程序造成的风险。

好处: 降低类之间的耦合性，提高系统的稳定性，降低修改程序造成的风险。

我们现在有一个在react环境的前端埋点的需求，我是这样设计的 首先先定义一层埋点类型的Map，里面有三个属性page_name用来标识在哪个页面,id埋点的唯一id,type埋点的类型例如是曝光还是点击，接下来中间又定义了一个Map用来做业务枚举类型和埋点Map的映射（我之所以做这个是因为会出现列表渲染的情况，我只需要把业务key传到Map中就能拿到埋点的Map），最后再去业务中去调用我的埋点方法将映射传递进去，我这么做有什么问题么？从软件设计的角度来考虑

从软件设计的角度来看，您的设计思路是合理的。但是，有一些建议可以帮助您改进：



使用更具描述性的变量名和枚举类型，以便于其他开发者理解和维护代码。

为埋点方法提供更灵活的配置选项，以便可以轻松地定制和扩展不同的埋点类型。

考虑将埋点逻辑封装成一个可复用的自定义Hook，以便在组件中更方便地使用。

确保埋点ID的唯一性，可以考虑使用UUID或其他唯一标识生成方法。

考虑错误处理和边界情况，例如：如果传入的业务key不存在于映射中时，需要有相应的处理机制。


总的来说，您的设计思路是正确的，只需要在实践中关注代码的可读性、可维护性和可扩展性，以便于其他开发者更好地理解和使用您的设计。





从软件设计的角度来看，您的设计本质上是将埋点类型信息和业务逻辑信息分离开来，这是一种好的设计实践。通过使用Map来存储这些信息，您可以在逻辑上将它们分组，并且在需要访问它们时可以有效地快速查找。


从可维护性的角度来看，您的设计也是相对良好的，因为它使用了一些基本的软件设计原则，如将数据和逻辑分离、封装等。但是，如果您的映射表和业务逻辑表之间存在复杂的映射关系，或者它们在项目的不同部分之间频繁变化，那么您的代码可能会变得难以维护。此外，如果您的业务逻辑代码中频繁使用这些映射表，则可能需要编写一些额外的代码来管理它们，这可能会导致代码变得复杂。


### 开放关闭原则
表示软件实体 (类、模块、函数等等) 应该是可以被扩展的，但是不可被修改。

比如你有一段程序是不停的ifelse，何不设计成一个容器组装起来就好了，这样就不用修改核心代码